---
interface Props {
  title: string;
  subtitle?: string;
  image: string;
  items?: Array<{
    label: string;
    price: string;
  }>;
  testimonial?: {
    text: string;
    author: string;
  };
  reverse?: boolean;
}

const {
  title,
  subtitle,
  image,
  items,
  testimonial,
  reverse = false,
} = Astro.props;
---

<section class="relative min-h-[400px] md:min-h-[500px] overflow-hidden">
  <!-- Background Image -->
  <div class="absolute inset-0">
    <img
      src={image}
      alt={title}
      class="w-full h-full object-cover object-center"
    />
    <div class="absolute inset-0" style="background: rgba(0, 0, 0, 0.3);"></div>
  </div>

  <!-- Content -->
  <div
    class="relative z-10 container mx-auto px-6 md:px-12 lg:px-16 py-16 md:py-24 h-full"
  >
    <div
      class={`w-full flex flex-col md:flex-row ${reverse ? "md:flex-row-reverse" : ""} items-center justify-between gap-12 md:gap-16`}
    >
      <!-- Title Side -->
      <div class={`md:w-1/2 service-title`}>
        <h2
          class="text-3xl md:text-4xl lg:text-5xl font-bold leading-tight"
          style="color: #ffffff; text-shadow: 2px 2px 10px rgba(0, 0, 0, 0.8);"
        >
          {title}
        </h2>
        {
          subtitle && (
            <p
              class="text-lg md:text-xl mt-4"
              style="color: #ffffff; text-shadow: 1px 1px 6px rgba(0, 0, 0, 0.7);"
            >
              {subtitle}
            </p>
          )
        }
      </div>

      <!-- Pricing / Testimonial Side -->
      <div class={`md:w-1/2 service-content`}>
        {
          items && (
            <div class="space-y-3">
              {items.map((item) => (
                <div class="flex items-start gap-3">
                  <span class="text-2xl flex-shrink-0" style="color: #fbbf24;">
                    •
                  </span>
                  <div class="flex-1">
                    {item.price && (
                      <span
                        class="font-bold text-lg"
                        style="color: #fbbf24; text-shadow: 1px 1px 4px rgba(0, 0, 0, 0.6);"
                      >
                        {item.price}{" "}
                      </span>
                    )}
                    {item.label && (
                      <span
                        class="text-base"
                        style="color: #ffffff; text-shadow: 1px 1px 4px rgba(0, 0, 0, 0.6);"
                      >
                        {item.label}
                      </span>
                    )}
                  </div>
                </div>
              ))}
              <p
                class="text-xs mt-6 italic pl-9"
                style="color: rgba(255, 255, 255, 0.9); text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.6);"
              >
                *All prices quoted are per cleaning person
              </p>
            </div>
          )
        }

        {
          testimonial && (
            <div
              class="mt-8 p-6 md:p-8 rounded-lg"
              style="background: rgba(0, 0, 0, 0.6); backdrop-filter: blur(8px);"
            >
              <p
                class="text-base md:text-lg italic mb-4 leading-relaxed"
                style="color: #fde68a; text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5);"
              >
                "{testimonial.text}"
              </p>
              <p
                class="font-semibold text-sm"
                style="color: #ffffff; text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5);"
              >
                — {testimonial.author}
              </p>
            </div>
          )
        }
      </div>
    </div>
  </div>
</section>

<style>
  .service-title {
    opacity: 0;
    animation: fadeIn 0.8s ease-out 0.2s forwards;
  }

  .service-content {
    opacity: 0;
    animation: fadeIn 0.8s ease-out 0.4s forwards;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
</style>
