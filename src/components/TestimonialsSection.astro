---
import content from "../data/content.json";
const { testimonials: testimonialsData } = content;

interface Testimonial {
  name: string;
  role: string;
  content: string;
  rating: number;
}

const testimonials: Testimonial[] = testimonialsData.list as Testimonial[];
---

<section
  id="testimonials"
  class="section-watermark py-20 sm:py-28 lg:py-32 bg-background"
>
  <div class="container mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center space-y-4 mb-16">
      <h2
        class="text-4xl sm:text-5xl lg:text-6xl font-serif font-bold text-pretty"
      >
        Trusted by <span class="text-primary">NYC's Finest</span>
      </h2>
      <p class="text-lg text-foreground/70 max-w-2xl mx-auto">
        Real testimonials from our satisfied clients across New York City
      </p>
    </div>

    <div class="grid md:grid-cols-2 lg:grid-cols-2 gap-8">
      {
        testimonials.map((testimonial, index) => (
          <div
            class="testimonial-card p-8 bg-muted/40 rounded-xl border border-border hover:shadow-lg transition-all duration-300 space-y-4"
            style={`animation-delay: ${index * 0.1}s`}
          >
            <div class="flex gap-1">
              {Array.from({ length: testimonial.rating }).map(() => (
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="18"
                  height="18"
                  viewBox="0 0 24 24"
                  fill="currentColor"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="text-accent"
                >
                  <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2" />
                </svg>
              ))}
            </div>
            <p class="text-foreground text-lg leading-relaxed italic">
              "{testimonial.content}"
            </p>
            <div>
              <p class="font-semibold text-foreground">{testimonial.name}</p>
              <p class="text-sm text-foreground/60">{testimonial.role}</p>
            </div>
          </div>
        ))
      }
    </div>
  </div>
</section>

<style>
  @keyframes fade-in-up {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .testimonial-card {
    animation: fade-in-up 0.6s ease-out forwards;
    opacity: 0;
  }
</style>
